
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2020å¹´ã®å®¿é¡Œï¼šEelã§Pythonã®ã‚¯ãƒ©ã‚¹ã‚’ä½¿ãˆã‚‹ã‹ï¼Ÿ</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../reveal.js/dist/reveal.css" />
    <link rel="stylesheet" href="../reveal.js/dist/theme/black.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../reveal.js/plugin/highlight/zenburn.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/common.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æ¤œç´¢" href="../search.html" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    

  </head><body>
    <div class="reveal">
        <div class="slides">
            <section >
<h1>2020å¹´ã®å®¿é¡Œï¼šEelã§Pythonã®ã‚¯ãƒ©ã‚¹ã‚’ä½¿ãˆã‚‹ã‹ï¼Ÿ</h1>
<dl class="field-list simple">
<dt class="field-odd">Event</dt>
<dd class="field-odd"><p>ã¿ã‚“ãªã®Pythonå‹‰å¼·ä¼š #65 LT</p>
</dd>
<dt class="field-even">Presented</dt>
<dd class="field-even"><p>2021/01/13 nikkie</p>
</dd>
</dl>
</section>
<section >
<h2>ãŠå‰ã€èª°ã‚ˆ (About nikkie)</h2>
<ul class="simple">
<li><p>ãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼ãƒ ã€Œã«ã£ããƒ¼ã€ï¼ˆTwitter <a class="reference external" href="https://twitter.com/ftnext">&#64;ftnext</a> / GitHub <a class="reference external" href="https://github.com/ftnext">&#64;ftnext</a>ï¼‰</p></li>
<li><p>Pythonæ­´ 3å¹´</p></li>
<li><p>stapy 4ä»£ç›® <strong>LTç‹å­</strong></p></li>
<li><p>Love anime!!ï¼ˆï¼ ã€€ğŸºğŸ·ğŸ”¥ã€€ğŸŒˆã€€ğŸ”ğŸ•ã€€ğŸƒâ€â™€ï¸ğŸ‘¹ï¼‰</p></li>
</ul>
</section>
<section>
<section >
<h2>å¸«èµ°tapyï¼ˆã—ã‚ã™ãŸã±ã„ï¼‰ã«ã¦</h2>
<ul class="simple">
<li><p>ç™»å£‡ã€ŒBring your Python script to more users! 2020å†¬ stapy ver.ã€</p></li>
<li><p><a class="reference external" href="https://docs.google.com/presentation/d/1Mv3xMknHCZ_mXvGijymuo9IvgWT6XURXfvX_RMNk-XM/edit?usp=sharing">ã‚¹ãƒ©ã‚¤ãƒ‰</a></p></li>
<li><p><a class="reference external" href="https://youtu.be/6YsMKnjcoTc?t=1641">YouTube</a> ï¼ˆãƒ‡ãƒ¢ã—ã¦ã¾ã™ï¼‰</p></li>
</ul>
</section>
<section >
<h3>Bring your Python script to more users!ã®ä¸€ã‚³ãƒ</h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ChrisKnott/Eel">Eel</a> ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç´¹ä»‹</p></li>
<li><p>Python, HTML, CSS, JavaScriptã‹ã‚‰ <strong>GUIã‚¢ãƒ—ãƒª</strong> ãŒä½œã‚Œã‚‹</p></li>
<li><p>Pythonã®é–¢æ•°ã‚’JavaScriptã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹</p></li>
</ul>
</section>
<section >
<h3>Eelã®ã‚¤ãƒ¡ãƒ¼ã‚¸</h3>
<pre><code data-trim data-noescape class="python">
&#64;eel.expose
def say_hello():
    return f&quot;Hello World {random.choice(NUMBERS)}&quot;</code></pre>
<pre><code data-trim data-noescape class="html">
&lt;script type=&quot;text/javascript&quot;&gt;
  // Pythonã®say_helloé–¢æ•°ã‚’JavaScriptã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹ï¼
  eel.say_hello();
&lt;/script&gt;</code></pre>
</section>
<section >
<h3>ã„ãŸã ã„ãŸè³ªå•ğŸ“©</h3>
<blockquote>
<div><p>Eelã‚’ä½¿ã£ãŸæ™‚ã«ã€HTMLã‹ã‚‰classã‚’èª­ã¿å‡ºã™ã“ã¨ã‚‚å¯èƒ½ã§ã™ã‹?</p>
</div></blockquote>
<p>ã“ã®LTã§å›ç­”ã—ã¦ã„ãã¾ã™</p>
</section>
<section >
<h3>Eelã‚’ä½¿ã£ãŸæ™‚ã«ã€HTMLã‹ã‚‰classã‚’èª­ã¿å‡ºã™ã“ã¨ã‚‚å¯èƒ½ã§ã™ã‹?</h3>
<ol class="arabic simple">
<li><p>HTMLã®è¦ç´ ã®classã‚’æ‰±ã„ãŸã„ï¼Ÿ</p></li>
<li><p>Pythonã®ã‚¯ãƒ©ã‚¹ã‚’JavaScriptã§æ‰±ã„ãŸã„ï¼Ÿ</p></li>
</ol>
<p>2ã¸ã®å›ç­”ã‚’ä¸­å¿ƒã«æº–å‚™ã—ã¦ãã¾ã—ãŸ</p>
<p>ã‚¢ãƒ³ã‚¸ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚³ãƒ³ãƒˆã¿ãŸãã€è³ªå•ã¨å™›ã¿åˆã‚ãªã‹ã£ãŸã‚‰ã™ã¿ã¾ã›ã‚“ğŸ™</p>
</section>
</section>
<section>
<section >
<h2>ï¼ˆEelã‚¢ãƒ—ãƒªã§ï¼‰HTMLã®è¦ç´ ã®classã‚’æ‰±ã„ãŸã„</h2>
<p>ğŸ‘‰ <strong>JavaScriptã§ã‚„ã‚‹</strong> ã®ã‚’ã‚ªã‚¹ã‚¹ãƒ¡ã—ã¾ã™ï¼ˆè¦ç´ ã®classã‚’å¤‰æ›´ã§ãã‚‹ï¼‰</p>
</section>
<section >
<h3>JavaScriptã§HTMLã®è¦ç´ ã®ã‚¯ãƒ©ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ã‚³ãƒ¼ãƒ‰</h3>
<p><a class="reference external" href="https://github.com/ftnext/bring-script-more-users/blob/25706dc9053a9c8161d19f52ad1c988c0be3608f/gui/hello/hello.html#L43">ã‚½ãƒ¼ã‚¹å…¨ä½“</a></p>
<pre><code data-trim data-noescape class="javascript">
let styledElements = document.getElementsByClassName(&quot;styled&quot;);
for (var i=0, len=styledElements.length|0; i&lt;len; i=i+1|0) {
  // red-styledã‚¯ãƒ©ã‚¹ã‹ã‚‰blue-styledã‚¯ãƒ©ã‚¹ã«å¤‰ãˆã‚‹
  styledElements[i].classList.remove(&quot;red-styled&quot;);
  styledElements[i].classList.add(&quot;blue-styled&quot;);
}</code></pre>
</section>
<section >
<h3>ã‚¢ãƒ—ãƒªä¾‹ï¼šãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ãƒœã‚¿ãƒ³ã®è‰²ãŒå¤‰ã‚ã‚‹</h3>
<div class="figure align-default">
<img alt="../_images/202001class_change_sample.drawio.png" src="../_images/202001class_change_sample.drawio.png" />
</div>
</section>
<section >
<h3>ï¼ˆEelã‚¢ãƒ—ãƒªã§ï¼‰HTMLã®è¦ç´ ã®classã‚’æ‰±ã„ãŸã„</h3>
<ul class="simple">
<li><p>ğŸ‘‰ <strong>JavaScript</strong> ã§ã§ãã¾ã™</p></li>
<li><p>å‚è€ƒï¼š <a class="reference external" href="https://developer.mozilla.org/ja/docs/Web/API/Element/classList">Element.classList</a></p></li>
</ul>
</section>
</section>
<section>
<section >
<h2>Eelã‚¢ãƒ—ãƒªã§Pythonã®ã‚¯ãƒ©ã‚¹ã‚’JavaScriptã‹ã‚‰æ‰±ã„ãŸã„</h2>
<ul class="simple">
<li><p>ğŸ‘‰ Pythonã®ã‚¯ãƒ©ã‚¹ã¯æ‰±ãˆãªã„ï¼ˆã¨æ€ã‚ã‚Œã‚‹ï¼‰</p></li>
<li><p>ğŸ‘‰ ã‚¯ãƒ©ã‚¹ã® <em>ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰</em> ãªã‚‰å‘¼ã³å‡ºã›ãŸ</p></li>
</ul>
</section>
<section >
<h3><code class="docutils literal notranslate"><span class="pre">&#64;eel.expose</span></code> ã¯ã€Œãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã€</h3>
<p><a class="reference external" href="https://docs.python.org/ja/3/glossary.html#term-decorator">Pythonç”¨èªé›†</a> ã«ã‚ˆã‚‹ã¨</p>
<blockquote>
<div><p>åˆ¥ã®é–¢æ•°ã‚’è¿”ã™é–¢æ•°ã§ã€é€šå¸¸ã€ &#64;wrapper æ§‹æ–‡ã§é–¢æ•°å¤‰æ›ã¨ã—ã¦é©ç”¨ã•ã‚Œã¾ã™ã€‚</p>
</div></blockquote>
<pre><code data-trim data-noescape class="python">
&#64;eel.expose
def say_hello():
    return f&quot;Hello World {random.choice(NUMBERS)}&quot;</code></pre>
</section>
<section >
<h3><code class="docutils literal notranslate"><span class="pre">&#64;eel.expose</span></code> ã®å‹•ã</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;eel.expose</span></code> ãŒä»˜ã„ãŸPythonã®é–¢æ•°ã®åå‰ã‚’ <strong>eel.jsã«æ›¸ãè¾¼ã‚€</strong> ï¼ˆå‹•çš„ï¼ï¼‰</p></li>
<li><p>eel.jsãŒå®Ÿè¡Œã•ã‚ŒãŸå¾Œã€JavaScriptã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€<code class="docutils literal notranslate"><span class="pre">eel.Pythonã®é–¢æ•°å</span></code> ã¨å‘¼ã³å‡ºã›ã‚‹ï¼ˆã‚ˆã†ã«è¦‹ãˆã‚‹ï¼‰</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console.log(eel);</span></code> ã§ç¢ºèªã§ãã¾ã™</p></li>
</ul>
</section>
</section>
<section>
<section >
<h2>Pythonã®ã‚¯ãƒ©ã‚¹ã«ã‚‚ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã¯ä»˜ã‘ã‚‰ã‚Œã‚‹</h2>
<pre><code data-trim data-noescape class="python">
&#64;eel.expose
class Helloest:
    &#64;staticmethod
    def say():
        return &quot;Hello World from Helloest class&quot;</code></pre>
<pre><code data-trim data-noescape class="python">
&gt;&gt;&gt; Helloest.say()
'Hello World from Helloest class'</code></pre>
</section>
<section >
<h3>JavaScriptã®eelã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒPythonã®ã‚¯ãƒ©ã‚¹ã‚’æŒã£ãŸğŸ™Œ</h3>
<p><code class="docutils literal notranslate"><span class="pre">eel.Helloest</span></code></p>
<div class="figure align-default">
<img alt="../_images/202001console_log_eel.drawio.png" src="../_images/202001console_log_eel.drawio.png" />
</div>
</section>
<section >
<h3>ã—ã‹ã—ã€Pythonã®ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã“ã¨ã¯ã§ãã¾ã›ã‚“ğŸ™…â€â™‚ï¸</h3>
<pre><code data-trim data-noescape class="javascript">
eel.Helloest.say();
// raises `Uncaught TypeError: eel.Helloest.say is not a function`</code></pre>
<p>Pythonã®ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€JavaScriptã‹ã‚‰å‘¼ã³å‡ºã›ãªã„ã‚ˆã†ã§ã™</p>
</section>
</section>
<section>
<section >
<h2>ã‚¯ãƒ©ã‚¹ã®å„ãƒ¡ã‚½ãƒƒãƒ‰ã«ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä»˜ã‘ãŸã‚‰ï¼Ÿ</h2>
<ul class="simple">
<li><p>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰</p></li>
<li><p>ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰</p></li>
<li><p>ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰</p></li>
</ul>
</section>
<section >
<h3>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰</h3>
<pre><code data-trim data-noescape class="python">
class Helloer:
    def __init__(self, name):
        self.name = name

    # JavaScriptã§eel.ã¨å‘¼ã³å‡ºã™ã¨ãã®åå‰ã‚’æŒ‡å®š
    &#64;eel.expose(&quot;Helloer_say_instance_method&quot;)
    def say_instance(self):
        return f&quot;Hello World from instance method / {self.name}&quot;</code></pre>
<pre><code data-trim data-noescape class="python">
&gt;&gt;&gt; h = Helloer(&quot;Alice&quot;)
&gt;&gt;&gt; h.say_instance()
'Hello World from instance method / Alice'</code></pre>
</section>
<section >
<h3>ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰</h3>
<pre><code data-trim data-noescape class="python">
class Helloer:
    class_var = &quot;BLOND&quot;

    &#64;classmethod
    &#64;eel.expose(&quot;Helloer_say_class_method&quot;)
    def say_class(cls):
        return f&quot;Hello World from class method / {cls.class_var}&quot;</code></pre>
<pre><code data-trim data-noescape class="python">
&gt;&gt;&gt; Helloer.say_class()
'Hello World from class method / BLOND'</code></pre>
</section>
<section >
<h3>ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰</h3>
<pre><code data-trim data-noescape class="python">
class Helloer:
    &#64;staticmethod
    &#64;eel.expose(&quot;Helloer_say_static_method&quot;)
    def say_static():
        return &quot;Hello World from static method&quot;</code></pre>
<pre><code data-trim data-noescape class="python">
&gt;&gt;&gt; Helloer.say_static()
'Hello World from static method'</code></pre>
</section>
<section >
<h3>JavaScriptã‹ã‚‰å‘¼ã³å‡ºã—ãŸçµæœ</h3>
<ul class="simple">
<li><p><strong>ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰</strong> ã¯å‘¼ã³å‡ºã›ãŸğŸ‰</p></li>
</ul>
<pre><code data-trim data-noescape class="javascript">
eel.Helloer_say_static_method();</code></pre>
</section>
<section >
<h3>JavaScriptã‹ã‚‰å‘¼ã³å‡ºã—ãŸçµæœï¼ˆæ‰¿å‰ï¼‰</h3>
<ul class="simple">
<li><p>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ãƒ»ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¯å‘¼ã³å‡ºã›ãªã„ğŸ™…â€â™€ï¸</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">cls</span></code> å¼•æ•°ã«è©²å½“ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒJavaScriptã‹ã‚‰æ¸¡ã›ãªã„æ¨¡æ§˜</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">cls</span></code> ã‚’ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§ä½¿ã£ã¦ã„ãªã‘ã‚Œã°ãƒ€ãƒŸãƒ¼ã®å¼•æ•°ã‚’ä½¿ã£ã¦å‘¼ã³å‡ºã›ã‚‹ï¼ˆãã‚Œã¯ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯ï¼Ÿï¼‰</p></li>
</ul>
</section>
</section>
<section>
<section >
<h2>ã¾ã¨ã‚ï¼šEelã§Pythonã®ã‚¯ãƒ©ã‚¹ã‚’ä½¿ãˆã‚‹ã‹ï¼Ÿ</h2>
<ul class="simple">
<li><p>ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã¯å‘¼ã³å‡ºã›ãŸ</p></li>
<li><p>æ€ã†ã«ã€ã‚¯ãƒ©ã‚¹ã®å‘¼ã³å‡ºã—ã¯Pythonãƒ»JavaScriptãã‚Œãã‚Œã®ä¸­ã§å®Œçµã€‚äº’ã„ã«å‘¼ã³å‡ºã™ã¨ãã¯ <strong>è¨€èªæ¨™æº–ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ </strong> ã§</p></li>
<li><p>HTMLã®classã«ã¤ã„ã¦ã®è³ªå•ã§ã—ãŸã‚‰ã€JavaScriptã§ã§ãã¾ã™</p></li>
</ul>
</section>
<section >
<h3>è³ªå• &amp; ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ</h3>
<ul class="simple">
<li><p>è³ªå•ã®æ„å›³ãŒæ±²ã‚ã¦ã„ãªã‹ã£ãŸã‚‰ <a class="reference external" href="https://twitter.com/ftnext">&#64;ftnext</a> ã¾ã§ã©ã†ã</p></li>
<li><p>Special thanks <a class="reference external" href="https://github.com/attakei/sphinx-revealjs">sphinx-revealjs</a> by &#64;attakeiã•ã‚“</p></li>
</ul>
</section>
</section>
<section >
<h2>Appendix</h2>
<ul class="simple">
<li><p>Python 3.8.6, <code class="docutils literal notranslate"><span class="pre">Eel==0.14.0</span></code></p></li>
<li><p><a class="reference external" href="https://github.com/ftnext/bring-script-more-users/issues/53">Pythonã®ã‚¯ãƒ©ã‚¹ã‚’exposeã—ãŸã‚‰JavaScriptã‹ã‚‰ã‚‚æ“ä½œã§ãã‚‹ã‹èª¿ã¹ã‚‹</a></p></li>
<li><p><a class="reference external" href="https://github.com/ftnext/bring-script-more-users/issues/51">Eelã‚¢ãƒ—ãƒªã§HTMLè¦ç´ ã®classã‚’æ‰±ã†ä¾‹ã‚’è¿½åŠ ã™ã‚‹</a></p></li>
</ul>
</section>

        </div>
    </div>
    
    <script src="../reveal.js/dist/reveal.js"></script>
    
    
      <script src="../reveal.js/plugin/highlight/highlight.js"></script>
      
    
    <script>
        var revealjsConfig = new Object();
        Object.assign(revealjsConfig, 
    {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: "none",
        slideNumber: "c/t",
    }
);
        
        
        
          revealjsConfig.plugins = [
            RevealHighlight,
          ];
        
        // More info https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize(revealjsConfig);
    </script>

  </body>
</html>